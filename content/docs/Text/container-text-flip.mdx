---
title: Container Text Flip
description: A 3D keycap-style text flipper with dynamic width animation and blur effects.
---

import { ContainerTextFlip } from '../../../app/components/TextBlocks/ContainerTextFlip';
import { ComponentPreview, Preview, CodeContent } from '../../../app/components/ComponentPreview';
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

## Preview

<ComponentPreview>
  <Preview>
    <div className="flex items-center justify-center min-h-[300px] w-full py-10">
      <ContainerTextFlip className="bg-red-500" words={["Design", "Develop", "Ship", "Scale"]} />
    </div>
  </Preview>
  <CodeContent>
    <Tabs items={["TS", "JS"]}>
      <Tab value="TS">
        ```tsx
        import { ContainerTextFlip } from '@/components/TextBlocks/ContainerTextFlip';

        export function Preview() {
            return (
                <ContainerTextFlip words={["Design", "Develop", "Ship", "Scale"]} />
            );
        }
        ```
      </Tab>
      <Tab value="JS">
        ```jsx
        import { ContainerTextFlip } from '@/components/TextBlocks/ContainerTextFlip';

        export function Preview() {
            return (
                <ContainerTextFlip words={["Design", "Develop", "Ship", "Scale"]} />
            );
        }
        ```
      </Tab>
    </Tabs>
  </CodeContent>
</ComponentPreview>

## Installation

<Steps>
  <Step>
    ### Install dependencies
    
    ```bash
    npm install motion clsx tailwind-merge
    ```
  </Step>
  <Step>
    ### Copy the source code
    
    Copy the code into `app/components/TextBlocks/ContainerTextFlip.tsx`.

    <Tabs items={["TS"]}>
      <Tab value="TS">
        ```tsx title="app/components/TextBlocks/ContainerTextFlip.tsx"
        import React, { useEffect, useRef, useState, useMemo } from 'react';
        import { motion, AnimatePresence } from 'motion/react';
        import { cn } from '@/lib/utils';

        interface ContainerTextFlipProps {
          words: string[];
          interval?: number;
          className?: string;
        }

        export const ContainerTextFlip: React.FC<ContainerTextFlipProps> = ({
          words,
          interval = 3000,
          className,
        }) => {
          const [index, setIndex] = useState(0);
          const [width, setWidth] = useState<number | 'auto'>('auto');
          const textRef = useRef<HTMLDivElement>(null);

          useEffect(() => {
            const timer = setInterval(() => {
              setIndex((prev) => (prev + 1) % words.length);
            }, interval);
            return () => clearInterval(timer);
          }, [words.length, interval]);

          useEffect(() => {
            if (textRef.current) {
              setWidth(textRef.current.scrollWidth + 40); 
            }
          }, [index, words]);

          const currentWord = words[index];
          const characters = useMemo(() => currentWord.split(''), [currentWord]);

          return (
            <div className={cn("flex justify-center items-center py-20 bg-transparent dark:bg-transparent", className)}>
              <motion.div
                animate={{ width }}
                transition={{ duration: 0.4, ease: "easeInOut" }}
                className={cn(
                    "relative flex justify-center items-center overflow-hidden rounded-xl h-24 sm:h-32",
                    "bg-gradient-to-b from-gray-50 to-gray-200 shadow-[inset_0_-4px_4px_rgba(0,0,0,0.1),0_4px_6px_rgba(0,0,0,0.1),0_10px_15px_-3px_rgba(0,0,0,0.1)]",
                    "dark:from-neutral-800 dark:to-neutral-900 dark:shadow-[inset_0_-2px_4px_rgba(0,0,0,0.5),0_4px_6px_rgba(0,0,0,0.3)] dark:border dark:border-neutral-700"
                )}
              >
                <div
                  ref={textRef}
                  className="absolute opacity-0 pointer-events-none whitespace-nowrap text-4xl sm:text-7xl font-bold px-8"
                  aria-hidden="true"
                >
                  {currentWord}
                </div>

                <div className="flex gap-[2px] items-center z-10 font-bold text-gray-800 dark:text-gray-100 text-4xl sm:text-7xl select-none">
                  <AnimatePresence mode="popLayout">
                     {characters.map((char, i) => (
                        <motion.span
                            key={`${index}-${i}`}
                            initial={{ opacity: 0, filter: "blur(10px)", y: 10 }}
                            animate={{ opacity: 1, filter: "blur(0px)", y: 0 }}
                            exit={{ opacity: 0, filter: "blur(10px)", y: -10, position: "absolute" }}
                            transition={{
                                duration: 0.4,
                                delay: i * 0.05,
                                ease: "easeOut"
                            }}
                            className="inline-block"
                        >
                            {char === " " ? "\u00A0" : char}
                        </motion.span>
                     ))}
                  </AnimatePresence>
                </div>
                
                <div className="absolute inset-0 rounded-xl bg-gradient-to-b from-white/40 to-transparent pointer-events-none" />
              </motion.div>
            </div>
          )
        };
        ```
      </Tab>
    </Tabs>
  </Step>
</Steps>

## Props

| Prop | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| `words` | `string[]` | - | Array of words to cycle through. |
| `interval` | `number` | `3000` | Duration in milliseconds between flips. |
| `className` | `string` | - | Additional CSS classes for the wrapper. |
